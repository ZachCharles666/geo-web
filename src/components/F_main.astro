---
/* F_main.astro — Industry Insights / Research Reports (EN Version, Structure Preserved) */

const tabs = [
  { key: 'all', label: 'All' },
  { key: 'report', label: 'Reports' },
  { key: 'ranking', label: 'Rankings' },
  { key: 'trend', label: 'Trends' },
];

const items = [
  {
    type: 'report',
    schemaType: 'Article',
    title: '2025 GEO Industry Research Report (Global & China Comparison)',
    desc: 'A systematic review of the AI search ecosystem, platform matrix, commercialization paths, and methodological case studies.',
    date: '2025-09-30',
    read: '18 min',
    url: '/en/insights/2025-geo-industry-report',
    tags: ['GEO', 'Industry Research', 'Platform Matrix']
  },
  {
    type: 'ranking',
    schemaType: 'Article',
    title: 'AI Search Visibility Index: Cross-Platform Comparison of 30 Brands (Q3)',
    desc: 'Ranked by reproducibility, citation rate, and cross-engine coverage. Includes transparent scoring methodology.',
    date: '2025-08-21',
    read: '12 min',
    url: '/en/insights/visibility-top30-q3',
    tags: ['Ranking', 'Visibility', 'Methodology']
  },
  {
    type: 'trend',
    schemaType: 'Article',
    title: 'New Paradigm of Content Distribution: Migration Path from SEO to GEO',
    desc: 'A clear explanation of the boundary, synergy and transition logic between traditional SEO and new-era GEO.',
    date: '2025-07-12',
    read: '10 min',
    url: '/en/insights/seo-to-geo-migration',
    tags: ['Strategy', 'Growth', 'Workflow']
  },
  // {
  //   type: 'report',
  //   schemaType: 'Dataset',
  //   title: 'GEO-Score Public Dataset (v0.9)',
  //   desc: 'Covering 10+ major AI models and 2000+ test items, with scoring dimensions and benchmark documentation.',
  //   date: '2025-06-28',
  //   read: 'Data',
  //   url: '/en/datasets/geo-score-v0-9',
  //   tags: ['Dataset', 'Benchmark', 'Open Source']
  // },
  {
    type: 'trend',
    schemaType: 'Article',
    title: 'Platform Distribution Logic Tracking: Key Changes Across 2025',
    desc: 'Structural changes and actionable recommendations for WeChat, Douyin, Xiaohongshu, and multi-platform content.',
    date: '2025-10-20',
    read: '14 min',
    url: '/en/insights/content-trend-2025',
    tags: ['Platforms', 'Distribution Logic', 'Content']
  },
];
---

<section class="w-full max-w-[100rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto" aria-labelledby="insight-title">

  <!-- Title -->
  <div class="w-full sm:w-4/5 lg:w-1/2 mx-auto text-center mb-10">
    <h2 id="insight-title" class="text-3xl lg:text-4xl font-bold text-gray-800 dark:text-gray-200">
      Insights, Reports & Benchmarks
    </h2>
    <p class="mt-3 text-gray-600 dark:text-gray-300">
      Practical GEO research, public datasets, and real case studies — updated as the AI search ecosystem evolves.
    </p>
  </div>
  <!-- End Title -->

  <!-- Tabs -->
  <div class="flex justify-center gap-2 sm:gap-3 mb-8" role="tablist" aria-label="Insights filters">
    {tabs.map(t => (
      <button
        class="hs-tab-active:bg-gray-900 hs-tab-active:text-white border rounded-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10 dark:border-gray-700"
        data-hs-tab={`#insights-${t.key}`}
        role="tab"
        aria-controls={`insights-${t.key}`}
        aria-selected={t.key === 'all' ? 'true' : 'false'}
        class:list={[t.key === 'all' ? 'hs-tab-active:bg-gray-900 hs-tab-active:text-white' : '']}
      >
        {t.label}
      </button>
    ))}
  </div>
  <!-- End Tabs -->

  <!-- Panels -->
  <div>
    {tabs.map(t => {
      const filtered = t.key === 'all'
        ? items
        : items.filter(i => i.type === t.key);

      return (
        <div id={`insights-${t.key}`} role="tabpanel" class={t.key === 'all' ? '' : 'hidden'}>
          <div class="grid gap-6 sm:grid-cols-2 xl:grid-cols-3">

            {filtered.map((i) => (
              <article class="group relative h-full bg-white border rounded-2xl p-6 dark:bg-slate-900 dark:border-gray-700">

                <div class="mb-4 flex items-center gap-2">
                  <span class="inline-flex items-center rounded-full border px-2.5 py-1 text-xs text-gray-600 dark:text-gray-300 dark:border-gray-700">
                    {i.type === 'report' ? 'Report'
                     : i.type === 'ranking' ? 'Ranking'
                     : 'Trend'}
                  </span>
                  <time class="text-xs text-gray-500" datetime={i.date}>{i.date}</time>
                </div>

                <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 group-hover:underline">
                  <a href={i.url}>{i.title}</a>
                </h3>

                <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                  {i.desc}
                </p>

                <div class="mt-4 flex flex-wrap gap-2">
                  {i.tags.map(tag => (
                    <span class="text-xs px-2 py-1 rounded-md bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-200">
                      {tag}
                    </span>
                  ))}
                </div>

                <div class="mt-5 flex items-center justify-between">
                  <a href={i.url} class="text-sm font-medium text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 inline-flex items-center gap-1">
                    Open report
                    <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path d="M13 5l7 7-7 7M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </a>
                  <span class="text-xs text-gray-500">{i.read}</span>
                </div>

                <!-- Microdata -->
                <div itemscope itemtype={`https://schema.org/${i.schemaType}`} class="sr-only">
                  <meta itemprop="headline" content={i.title} />
                  <meta itemprop="datePublished" content={i.date} />
                  <a itemprop="url" href={i.url}></a>
                  <meta itemprop="description" content={i.desc} />
                </div>

              </article>
            ))}

          </div>
        </div>
      );
    })}
  </div>
  <!-- End Panels -->

  <!-- View all -->
  <!-- <div class="mt-10 text-center">
    <a href="#" class="inline-flex items-center gap-2 px-4 py-2 rounded-md border text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-white/10">
      View all articles & datasets
      <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M13 5l7 7-7 7M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </a>
  </div> -->

  <!-- JSON-LD ItemList -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1,
        "item": { "@type": "Article", "headline": "2025 GEO Industry Research Report (Global & China Comparison)", "url": "/en/insights/2025-geo-industry-report", "datePublished": "2025-09-30" }
      },
      { "@type": "ListItem", "position": 2,
        "item": { "@type": "Article", "headline": "AI Search Visibility Index: Cross-Platform Comparison of 30 Brands (Q3)", "url": "/en/insights/visibility-top30-q3", "datePublished": "2025-08-21" }
      },
      { "@type": "ListItem", "position": 3,
        "item": { "@type": "Article", "headline": "New Paradigm of Content Distribution: Migration Path from SEO to GEO", "url": "/en/insights/seo-to-geo-migration", "datePublished": "2025-07-12" }
      },
      { "@type": "ListItem", "position": 4,
        "item": { "@type": "Dataset", "name": "GEO-Score Public Dataset (v0.9)", "url": "/en/datasets/geo-score-v0-9", "datePublished": "2025-06-28" }
      },
      { "@type": "ListItem", "position": 5,
        "item": { "@type": "Article", "headline": "Platform Distribution Logic Tracking: Key Changes Across 2025", "url": "/en/insights/content-trend-2025", "datePublished": "2025-10-20" }
      }
    ]
  }
  </script>

</section>
