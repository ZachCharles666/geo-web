<!-- Case Studies (Cc_main) -->
---
/**
 * 统一：所有案例用一份数据结构 + 一套模板渲染
 * 字段说明：
 * - name, tag, logo(可为 null => 文本回退)
 * - k1label, k1, k2label, k2, k3label, k3
 * - tip, url
 */

const cases = [

  {
    name: "Haleon plc",
    tag: "消费健康 / 合规内容",
    logo: "/assets/logos/haleon.svg",
    k1label: "转化", k1: "+35%",
    k2label: "询盘", k2: "×2.3",
    k3label: "稳定", k3: "30天",
    tip: "医疗/健康类 Schema（MedicalWebPage/FAQ/HowTo）＋ 适应症术语对齐＋ 合规引用链路。",
    url: "#"
  },
  {
    name: "Reckitt",
    tag: "家居/健康 / 多地区",
    logo: "/assets/logos/reckitt.svg",
    k1label: "检索", k1: "+24%",
    k2label: "收录", k2: "+33%",
    k3label: "交付", k3: "T+10",
    tip: "多地区/多语言版本对齐（hreflang）＋ 品牌族群词汇映射＋ 第三方评测/名录聚合。",
    url: "#"
  },

  // === 你提供的 7 个案例（无 logo 时文本回退） ===
  {
    name: "山东芒果云计算有限公司",
    tag: "云计算 / PR链路",
    logo: null,
    k1label: "品牌词", k1: "+29%",
    k2label: "曝光",   k2: "×1.8",
    k3label: "上量",   k3: "15天",
    tip: "PR 链路 + 官方资料页摘要 + 引用规范。",
    url: "#"
  },
  {
    name: "深圳天磊联信科技有限公司",
    tag: "通信 / PR链路",
    logo: null,
    k1label: "品牌词", k1: "+23%",
    k2label: "曝光",   k2: "×1.6",
    k3label: "上量",   k3: "14天",
    tip: "行业词组矩阵 + 资料页规范化。",
    url: "#"
  },
  {
    name: "厦门职行力信息科技有限公司",
    tag: "SaaS / 方案词",
    logo: null,
    k1label: "方案词", k1: "+21%",
    k2label: "曝光",   k2: "×1.5",
    k3label: "上量",   k3: "12天",
    tip: "行业词 + 品牌词联动；问答可见度提升。",
    url: "#"
  },
  {
    name: "广东佤臣家居科技有限公司",
    tag: "家居 / 长尾矩阵",
    logo: null,
    k1label: "长尾词", k1: "+32%",
    k2label: "曝光",   k2: "×1.9",
    k3label: "上量",   k3: "18天",
    tip: "“柚木地板/柜”多场景词；口碑页结构化。",
    url: "#"
  },
  {
    name: "江苏天新环保科技有限公司",
    tag: "环保设备 / 方案词",
    logo: null,
    k1label: "方案词", k1: "+27%",
    k2label: "曝光",   k2: "×1.7",
    k3label: "上量",   k3: "16天",
    tip: "“生物除臭设备/除臭设备”资料联动与引证。",
    url: "#"
  },
  {
    name: "山东路得威工程机械制造有限公司",
    tag: "工程机械 / 品类词",
    logo: null,
    k1label: "品类词", k1: "+24%",
    k2label: "曝光",   k2: "×1.6",
    k3label: "上量",   k3: "13天",
    tip: "“养护车/压路机/整平机”词族覆盖与聚合。",
    url: "#"
  },
  {
    name: "风荷举传统服饰",
    tag: "文化 / 汉服 / 品牌",
    logo: "/assets/logos/fengheju.svg",
    k1label: "品牌词", k1: "+36%",
    k2label: "曝光",   k2: "×2.1",
    k3label: "上量",   k3: "21天",
    tip: "“轻复原/东方美学”主题页 + 资料可信度增强。",
    url: "#"
  }
];

const baseUrl = "https://oldriver.work";

// 结构化数据（前 10 条作为示例输出）
const itemList = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "奇点GEO Case Studies",
  "itemListElement": cases.slice(0, 10).map((c, i) => {
    // 统一生成可用的绝对 URL；若为 "#" 则不输出 url 字段
    const caseUrl = c.url && c.url !== "#"
      ? (c.url.startsWith("http") ? c.url : `${baseUrl}${c.url}`)
      : null;

    const item = {
      "@type": "CaseStudy",
      "name": `${c.name}（${c.tag}）`,
      "description": c.tip,
      "provider": {
        "@type": "Organization",
        "name": "奇点GEO",
        "url": baseUrl
      }
    };

    if (caseUrl) {
      item.url = caseUrl;
    }

    return {
      "@type": "ListItem",
      "position": i + 1,
      "item": item
    };
  })
};
---

<!-- Case Studies (Cc_main) -->
<section id="case-studies" class="max-w-[85rem] px-4 py-16 sm:px-6 lg:px-8 lg:py-24 mx-auto">
  <!-- Title -->
  <div class="sm:w-1/2 xl:w-1/3 mx-auto text-center mb-8 md:mb-14">
    <h2 class="text-xl font-semibold md:text-2xl md:leading-tight text-gray-800 dark:text-gray-200">
      GEO 实战案例
    </h2>
    <p class="mt-2 text-[12px] leading-5 text-gray-500 dark:text-gray-400">
      页面中出现的品牌仅用于场景说明，不代表合作或背书。
    </p>
  </div>

  <!-- Grid：统一模板渲染 -->
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 lg:gap-6">
    {
      cases.map((c) => (
        <article class="group relative p-4 md:p-7 bg-gray-100 rounded-lg dark:bg-slate-800 overflow-hidden"
                 data-kpi1={`${c.k1label} ${c.k1}`} data-kpi2={`${c.k2label} ${c.k2}`} data-kpi3={`${c.k3label} ${c.k3}`}>
          <span class="absolute right-2 top-2 text-xs px-2 py-1 rounded-md bg-indigo-600/10 text-indigo-700 dark:text-indigo-300">
            {c.tag}
          </span>

          <div class="py-3 lg:py-5 w-24 h-auto md:w-28 lg:w-32 mx-auto text-center">
            {
              c.logo
                ? <img src={c.logo} alt={c.name} class="w-full h-auto" loading="lazy" />
                : <span class="block text-center font-semibold tracking-wide text-gray-800 dark:text-gray-100 leading-tight">{c.name}</span>
            }
          </div>

          <dl class="mt-4 grid grid-cols-3 gap-2 text-center text-xs">
            <div><dt class="text-gray-500 dark:text-gray-400">{c.k1label}</dt><dd class="font-semibold text-gray-800 dark:text-gray-100">{c.k1}</dd></div>
            <div><dt class="text-gray-500 dark:text-gray-400">{c.k2label}</dt><dd class="font-semibold text-gray-800 dark:text-gray-100">{c.k2}</dd></div>
            <div><dt class="text-gray-500 dark:text-gray-400">{c.k3label}</dt><dd class="font-semibold text-gray-800 dark:text-gray-100">{c.k3}</dd></div>
          </dl>

          <!-- Hover 提示（含可点链接） -->
          <div class="pointer-events-none absolute inset-x-0 bottom-0 translate-y-6 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300">
            <a href={c.url} target="_blank" rel="noopener"
               class="mx-4 mb-4 block rounded-lg bg-white/90 dark:bg-slate-900/90 p-3 text-[11px] leading-5 shadow-lg ring-1 ring-black/5 pointer-events-auto hover:ring-indigo-500/20">
              <div class="mb-1 text-gray-800 dark:text-gray-100">{c.tip}</div>
              <div class="text-[10px] text-indigo-600 dark:text-indigo-300 underline">查看报告/示例 &rarr;</div>
            </a>
          </div>
        </article>
      ))
    }
  </div>

  <!-- JSON-LD -->
  <script type="application/ld+json">
    {JSON.stringify(itemList)}
  </script>
</section>

