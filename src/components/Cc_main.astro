---
/**
 * EN Version — Case Studies Block
 * All structure preserved exactly as original Chinese version.
 */

type CaseJsonLdProvider = {
  "@type": string;
  name: string;
  url: string;
};

type CaseJsonLdItem = {
  "@type": string;
  name: string;
  description: string;
  url?: string; // ← 可选字段
  provider: CaseJsonLdProvider;
};

const cases = [
  // {
  //   name: "Haleon plc",
  //   tag: "Consumer Health / Compliance Content",
  //   logo: "/assets/logos/haleon.svg",
  //   k1label: "Conversion", k1: "+35%",
  //   k2label: "Leads",      k2: "×2.3",
  //   k3label: "Stability",  k3: "30 days",
  //   tip: "MedicalWebPage/FAQ/HowTo schema + indication alignment + citation structure.",
  //   url: "#"
  // },
  // {
  //   name: "Reckitt",
  //   tag: "Home & Health / Multi-region",
  //   logo: "/assets/logos/reckitt.svg",
  //   k1label: "Search",  k1: "+24%",
  //   k2label: "Indexing", k2: "+33%",
  //   k3label: "Delivery", k3: "T+10",
  //   tip: "Multi-language hreflang + brand-family vocabulary mapping + review aggregation.",
  //   url: "#"
  // },

  // === Your additional 7 cases (keep unchanged) ===
  {
    name: "Shandong MangoCloud Computing Co., Ltd.",
    tag: "Cloud Computing / PR Chain",
    logo: null,
    k1label: "Brand Keys", k1: "+29%",
    k2label: "Exposure",   k2: "×1.8",
    k3label: "Ramp-up",    k3: "15 days",
    tip: "PR chain + official profile page summary + citation normalization.",
    url: "#"
  },
  {
    name: "Shenzhen Tianlei Lianxin Technology Co., Ltd.",
    tag: "Telecom / PR Chain",
    logo: null,
    k1label: "Brand Keys", k1: "+23%",
    k2label: "Exposure",   k2: "×1.6",
    k3label: "Ramp-up",    k3: "14 days",
    tip: "Industry-term matrix + structured corporate info page.",
    url: "#"
  },
  {
    name: "Xiamen Zhixingli Information Technology Co., Ltd.",
    tag: "SaaS / Solution Keywords",
    logo: null,
    k1label: "Solution KW", k1: "+21%",
    k2label: "Exposure",    k2: "×1.5",
    k3label: "Ramp-up",     k3: "12 days",
    tip: "Industry-topic + brand-topic linkage; improved Q&A visibility.",
    url: "#"
  },
  {
    name: "Guangdong Wachen Home Technology Co., Ltd.",
    tag: "Home / Long-tail Matrix",
    logo: null,
    k1label: "Long-tail KW", k1: "+32%",
    k2label: "Exposure",     k2: "×1.9",
    k3label: "Ramp-up",      k3: "18 days",
    tip: "Teak-floor & cabinet multi-scenario topics + structured reputation pages.",
    url: "#"
  },
  {
    name: "Jiangsu Tianxin Environmental Technology Co., Ltd.",
    tag: "Environmental Equipment / Solution Keywords",
    logo: null,
    k1label: "Solution KW", k1: "+27%",
    k2label: "Exposure",    k2: "×1.7",
    k3label: "Ramp-up",     k3: "16 days",
    tip: "Odor-control equipment keyword family + linked citation pages.",
    url: "#"
  },
  {
    name: "Shandong Roadway Engineering Machinery Co., Ltd.",
    tag: "Engineering Machinery / Category Keywords",
    logo: null,
    k1label: "Category KW", k1: "+24%",
    k2label: "Exposure",    k2: "×1.6",
    k3label: "Ramp-up",     k3: "13 days",
    tip: "Pavers / rollers / leveling machine topic clusters.",
    url: "#"
  },
  {
    name: "Fengheju Traditional Clothing",
    tag: "Culture / Hanfu / Brand",
    logo: "/assets/logos/fengheju.svg",
    k1label: "Brand Keys", k1: "+36%",
    k2label: "Exposure",   k2: "×2.1",
    k3label: "Ramp-up",    k3: "21 days",
    tip: "\"Modern Hanfu / East Aesthetics\" theme + credibility reinforcement.",
    url: "#"
  }
];

const baseUrl = "https://geo-max.tech";

// JSON-LD
const itemList = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "GEO-Max Case Studies",
  "itemListElement": cases.slice(0, 10).map((c, i) => {
    const caseUrl = c.url && c.url !== "#"
      ? (c.url.startsWith("http") ? c.url : `${baseUrl}${c.url}`)
      : null;

    const item: CaseJsonLdItem = {
      "@type": "CaseStudy",
      "name": `${c.name} (${c.tag})`,
      "description": c.tip,
      "provider": {
        "@type": "Organization",
        "name": "GEO-Max",
        "url": baseUrl
      }
    };

    if (caseUrl) item.url = caseUrl;

    return {
      "@type": "ListItem",
      "position": i + 1,
      "item": item
    };
  })
};
---

<section id="case-studies" class="w-full max-w-[100rem] px-4 py-16 sm:px-6 lg:px-8 lg:py-24 mx-auto">
  <!-- Title -->
  <div class="sm:w-1/2 xl:w-1/3 mx-auto text-center mb-8 md:mb-14">
    <h2 class="text-xl font-semibold md:text-2xl md:leading-tight text-gray-800 dark:text-gray-200">
      GEO Case Studies
    </h2>

    <p class="mt-2 text-[12px] leading-5 text-gray-500 dark:text-gray-400">
      Real results from multi-industry projects.  
      Case details are anonymized or demo representations.
    </p>

  </div>

  <!-- Grid -->
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 lg:gap-6">
    {
      cases.map((c) => (
        <article class="group relative p-4 md:p-7 bg-gray-100 rounded-lg dark:bg-slate-800 overflow-hidden"
                 data-kpi1={`${c.k1label} ${c.k1}`} data-kpi2={`${c.k2label} ${c.k2}`} data-kpi3={`${c.k3label} ${c.k3}`}>
          <span class="absolute right-2 top-2 text-xs px-2 py-1 rounded-md bg-indigo-600/10 text-indigo-700 dark:text-indigo-300">
            {c.tag}
          </span>

          <div class="py-3 lg:py-5 w-24 md:w-28 lg:w-32 mx-auto text-center">
            {
              c.logo
                ? <img src={c.logo} alt={c.name} class="w-full h-auto" loading="lazy" />
                : <span class="block text-center font-semibold tracking-wide text-gray-800 dark:text-gray-100 leading-tight">{c.name}</span>
            }
          </div>

          <dl class="mt-4 grid grid-cols-3 gap-2 text-center text-xs">
            <div><dt class="text-gray-500 dark:text-gray-400">{c.k1label}</dt><dd class="font-semibold text-gray-800 dark:text-gray-100">{c.k1}</dd></div>
            <div><dt class="text-gray-500 dark:text-gray-400">{c.k2label}</dt><dd class="font-semibold text-gray-800 dark:text-gray-100">{c.k2}</dd></div>
            <div><dt class="text-gray-500 dark:text-gray-400">{c.k3label}</dt><dd class="font-semibold text-gray-800 dark:text-gray-100">{c.k3}</dd></div>
          </dl>

          <!-- Hover tip -->
          {/* <div class="pointer-events-none absolute inset-x-0 bottom-0 translate-y-6 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300">
            <a href={c.url} target="_blank" rel="noopener"
               class="mx-4 mb-4 block rounded-lg bg-white/90 dark:bg-slate-900/90 p-3 text-[11px] leading-5 shadow-lg ring-1 ring-black/5 pointer-events-auto hover:ring-indigo-500/20">
              <div class="mb-1 text-gray-800 dark:text-gray-100">{c.tip}</div>
              <div class="text-[10px] text-indigo-600 dark:text-indigo-300 underline">View details →</div>
            </a>
          </div> */}
        </article>
      ))
    }
  </div>

  <!-- JSON-LD -->
  <script type="application/ld+json">{JSON.stringify(itemList)}</script>
</section>
